<p>Reactive Form</p>

<form [formGroup]="FGProduct" (ngSubmit)="onSubmit()">
  <section formGroupName="prodSection1">
    <!--Id Produit-->
    <div class="form-group">
      <label for="idProd">Id Produit</label>
      <input type="text" formControlName="idProd" class="form-control">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection1').get('idProd').errors && FGProduct.get('prodSection1').get('idProd').touched && FGProduct.get('prodSection1').get('idProd').invalid">
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection1').get('idProd').errors.required">
        Champ obligatoire
      </div>
    </div>
    <!--Code-->
    <div class="form-group">
      <label for="code">Code</label>
      <input type="text" formControlName="code" class="form-control" id="code">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection1').get('code').errors && FGProduct.get('prodSection1').get('code').touched && FGProduct.get('prodSection1').get('code').invalid">
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection1').get('code').errors.pattern">
        Le code doit contenir 8 caractères
      </div>
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection1').get('code').errors.required">
        Champ obligatoire
      </div>
    </div>
    <!--Libelle-->
    <div class="form-group">
      <label for="libelle">Libelle</label>
      <input type="text" formControlName="libelle" class="form-control" id="libelle">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection1').get('libelle').errors && FGProduct.get('prodSection1').get('libelle').touched && FGProduct.get('prodSection1').get('libelle').invalid">
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection1').get('libelle').errors.required">
        Champ obligatoire
      </div>
      <div class="alert alert-danger" role="alert"
        *ngIf="FGProduct.get('prodSection1').get('libelle').errors.minlength">
        {{FGProduct.get('prodSection1').get('libelle').errors.minlength.actualLength}} Minimum
        {{FGProduct.get('prodSection1').get('libelle').errors.minlength.requiredLength}} caractères
      </div>
    </div>
    <!--prixU-->
    <div class="form-group">
      <label for="prixU">Prix Unitaire</label>
      <input type="text" formControlName="prixU" class="form-control" id="prixU">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection1').get('prixU').errors && FGProduct.get('prodSection1').get('prixU').touched && FGProduct.get('prodSection1').get('prixU').invalid">
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection1').get('prixU').errors.pattern">
        il faut écrire que des chiffres
      </div>
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection1').get('prixU').errors.required">
        Champ obligatoire
      </div>
    </div>
    <button class="btn btn-primary" [hidden]="FGProduct.get('prodSection1').valid"
      [disabled]="FGProduct.get('prodSection1').invalid">Next</button>
  </section>
  <section formGroupName="prodSection2" [hidden]="FGProduct.get('prodSection1').invalid">
    <!--idDetProd-->
    <div class="form-group">
      <label for="idDetProd">Id details produit</label>
      <input type="text" formControlName="idDetProd" class="form-control" id="idDetProd">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection2').get('idDetProd').errors && FGProduct.get('prodSection2').get('idDetProd').touched && FGProduct.get('prodSection2').get('idDetProd').invalid">
      <div class="alert alert-danger" role="alert"
        *ngIf="FGProduct.get('prodSection2').get('idDetProd').errors.required">
        Champ obligatoire
      </div>
    </div>
    <!--datecr-->
    <div class="form-group">
      <label for="datecr">Date creation</label>
      <input type="date" formControlName="datecr" class="form-control" id="datecr">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection2').get('datecr').errors && FGProduct.get('prodSection2').get('datecr').touched && FGProduct.get('prodSection2').get('datecr').invalid">
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection2').get('datecr').errors.required">
        Champ obligatoire
      </div>
    </div>
    <!--datemodif-->
    <div class="form-group" [hidden]="FGProduct.get('prodSection2').get('datecr').invalid">
      <label for="datemodif">Date derniere modification</label>
      <input type="date" formControlName="datemodif" class="form-control" id="datemodif">
    </div>
    <div
      *ngIf="FGProduct.get('prodSection2').get('datecr').errors && FGProduct.get('prodSection2').get('datecr').touched && FGProduct.get('prodSection2').get('datecr').invalid">
      <div class="alert alert-danger" role="alert" *ngIf="FGProduct.get('prodSection2').get('datecr').errors.required">
        Champ obligatoire
      </div>
    </div>
    <!--selectCateg-->
    <div class="form-group">
      <label for="selectCateg">Catégorie produit</label>
      <select formControlName="selectCateg" required class="form-select" id="selectCateg">
        <option *ngFor="let pf of profiles" [ngValue]="pf.name">
          {{ pf.name }}
        </option>
      </select>
    </div>
    <div
      *ngIf="FGProduct.get('prodSection2').get('selectCateg').errors && FGProduct.get('prodSection2').get('selectCateg').touched && FGProduct.get('prodSection2').get('selectCateg').invalid">
      {{FGProduct.get('prodSection2').get('selectCateg').valid}}
      <div class="alert alert-danger" role="alert"
        *ngIf="FGProduct.get('prodSection2').get('selectCateg').errors.required">
        Champ obligatoire
      </div>
    </div>
    <button type="submit" [hidden]="FGProduct.get('prodSection2').invalid" class="btn btn-primary">Submit</button>
  </section>
</form>